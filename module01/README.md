# 1.模块1总结

![架构基础](.\pic\架构基础.png)

# 2.画出微信的业务架构图

![微信业务架构图](.\pic\微信业务架构图.png)

# 3.“学生管理系统”毕设架构设计

假设今年学校毕业设计要求提升，要求做真正可运行的学生管理系统，学院对毕设的具体要求如下：
1）要求可以通过公网域名访问；
2）要求至少3人合作完成；
3）能够支撑管理1000个学生；
4）答辩的时候会根据架构方案来进行打分，不推荐太简单和太复杂的方案
你找了2个好朋友一起来做这个项目，你们的基本情况如下：
1）大家都会Java，但是有一个是PHP高手
2）大家经济条件一般
作业要求：
1）对照面向复杂度架构设计方法论，构思2个以上的备选架构方案。
2）使用PPT来画出你的备选架构方案，并说明方案的优缺点。
3）给出你选择的最终方案以及选择理由。  

## 3.1 背景

本项目为毕业设计，团队3人，都有一定的Java基础，但其中有php的高手，经济条件一般，开发周期为7个月。项目为学生管理系统，主要是应用于学生各类信息的管理，总体任务是实现学生信息关系的系统化、规范化、自动化，其主要任务是统计学生各类新型进行日常管理，如查询、修改、增加、删除、以及学生选课、成绩的查询等功能设计的管理系统。  



## 3.2 需求分析

### 3.2.1 业务需求

#### 3.2.1.1 学生管理

-  系统登录：此功能面向所有用户角色，根据用户角色权限不一，功能权限也不一样。
-  账号分配：学生账号由系统生成，给定相应权限，可进行密码更改，无法对系统成绩评定等功能做出相应干涉：教师账号由管理者（教务）通过系统生成，教师有对学生成绩评定和试卷评定的权限，同时兼容学生权限。管理（教务）权限由系统固有账号，是系统root权限，对教师有分配管理权限，对数
  据有增加、修改、删除、查询权限。
- 账号绑定：学生账号可通过第三方如：手机号码、微信等自行绑定，可实现账号自助找回等。
- 组织管理层级：按学生实际情况划分归属。 例如：软件学院—数字传媒方向（专业）—软件1306—苗雨乔
- 文件上传/下载：此功能针对所有用户开放，学生可以将自己课堂笔记、日常作业等相关信息在线传输，教师通过学生上传的相关作业、试卷信息进行相应评定，完成对学生平时成绩的评定。此功能一旦评定结束，所有用户只有查询、浏览的权限，除管理员外其他用户没有对成绩修改的权限。
- 信息查询：此项功能包含课程查询（含课程体系、课时安排、课表、教师、教材等）、成绩查询、
  文件查询。

#### 3.2.1.2 课程管理

- 课程录入：由管理员对相应课程体系进行录入，供学生、教师进行在线选择。
- 选课功能：学生可以在线对自己的课程体系进行选择，相对应的课程选择功能类比。
- 排课功能：此功能根据学生选定的课程和教学体系安排，对相应教师、教室、时间进行统一规划安排。排课功能备选开发方向为在线排课和人工录入，在线排课是系统根据课程要设置课程的名称，课时，上课的班级，代课老师等信息，除此之外，还可以选填排课时的优选项，例如：上课时间有限上午等系统自动生成课程信息，管理员有权限对课程安排作出添加，删除，修改等判定。
- 教材选择：此功能由教务统一管理，根据每门课程选定相应教材。  

#### 3.2.1.3 权限管理

- 系统使用者有学生、教师、管理员、辅导员
-  学生、教师、辅导员可以注册、登录、修改自己的信息，但注册信息需要管理员审核通过
- 学生只能查看自己的成绩，教师可以修改学生的成绩
- 辅导员可以查看学生的信息，可以设置学生的奖惩信息

### 3.2.2 非业务需求

- 能够管理1000个学生，学校师生比例一般在1:10左右，所以用户数量为1100人左右，同时最大在线人数按照二八原则，初步估计为200人左右，需要部署能够支持集群部署。
- 学生管理系统保存1000个学生的学习资料信息，具有很大的价值，不能丢失，需要对数据进行容灾。
- 毕业设计，是进入社会的一次综合大考，在进行技术选型的时候，尽量使用国内互联网公司使用的主流技术，为找工作奠定一定的基础，因此选择Java作为主要的编程语言，MySQL为数据库，使用SpringBoot框架进行开发，ORM选择JPA等。
- 项目验收阶段需要使用公网域名进行验收，需要申请有域名，服务需要部署在公网，所以最好是选择阿里云，在阿里云租用一个域名，和四台服务器，几个月的时间，加上学生有优惠，应该在1千到2千之间，三个人均摊，可以承担。

## 3.3 方案设计

### 3.3.1 方案1

![image-20210402235904788](.\pic\主备.png)![image-20210403000133481](.\pic\模块.png)



### 3.3.2 方案2

![主从](.\pic\主从.png)![模块](.\pic\模块.png)





## 3.4 方案对比

方案一，方案二最大的区别在于：方案一使用的MySQL的主备机制，若主机出现问题，需要人工切换。方案二使用的mysql的主从机制，若主机出现问题，可以继续使用查询业务。当然若有余力也可以使用MySQL Cluster、Orchestrator  方案，能够做到主动切换，无需人工介入。作为毕业设计项目，主备方案即可，一方面服务器在云上，有专业的团队进行维护；另外一方面，学生管理系统对高可用的要求不是太高。因此先选用方案1，若项目顺利，向方案二方向发展，既可以满足读写分离，也能够保证在主机故障的情况下，基础的查询业务可用。



#  

